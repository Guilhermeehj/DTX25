<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Personalize Web</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #000;
      color: #fff;
    }
    header {
      background-color: #000;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      color: #00bfff;
    }
    .chat-container {
      display: flex;
      flex-direction: column;
      height: 90vh;
      padding: 10px;
      overflow-y: auto;
    }
    .msg {
      max-width: 60%;
      padding: 10px;
      border-radius: 12px;
      margin: 5px 0;
      word-wrap: break-word;
    }
    .bot {
      background-color: #111;
      align-self: flex-start;
    }
    .user {
      background-color: #0050a0;
      align-self: flex-end;
    }
    .input-area {
      display: flex;
      padding: 10px;
      background-color: #000;
    }
    .input-area input {
      flex: 1;
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
      margin-right: 10px;
    }
    .input-area button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
    }
    #enviar {
      background-color: #00cc66;
      color: #fff;
    }
    #conversar {
      background-color: #008cff;
      color: #fff;
    }
    footer {
      text-align: center;
      padding: 10px;
      font-size: 14px;
      color: #ccc;
    }
    .digitando {
      font-style: italic;
      font-size: 14px;
      margin: 5px 0;
      color: #aaa;
      animation: blink 1s steps(1, end) infinite;
    }
    @keyframes blink {
      50% { opacity: 0.4; }
    }
  </style>
</head>
<body>
  <header>Personalize Web</header>

  <div class="chat-container" id="chat">
    <div class="msg bot">Olá! Sou a assistente da Personalize Web. Como você gostaria que fosse o seu site?</div>
  </div>

  <div class="input-area">
    <input type="text" id="mensagem" placeholder="Descreva aqui...">
    <button id="conversar">✓</button>
    <button id="enviar">Enviar seu projeto</button>
  </div>

  <footer>Não perca tempo — faça suas ideias se tornarem realidade.</footer>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("mensagem");
    const conversar = document.getElementById("conversar");
    const enviar = document.getElementById("enviar");

    const perguntas = [
      "Como você gostaria que fosse o seu site?",
      "O que deseja que ele faça?",
      "Quais cores você gostaria?",
      "Deseja algo interativo como chat ou voz?",
      "Quer incluir redes sociais, formulário ou portfólio?",
      "Tem um exemplo de site que goste?",
      "Deseja integração por voz? (+R$10)"
    ];

    let passo = 0;
    let respostas = [];

    function adicionarMensagem(texto, classe) {
      const div = document.createElement("div");
      div.className = "msg " + classe;
      div.textContent = texto;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    function mostrarDigitando(callback) {
      const div = document.createElement("div");
      div.className = "digitando";
      div.textContent = "Digitando...";
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
      setTimeout(() => {
        chat.removeChild(div);
        callback();
      }, 1200);
    }

    conversar.onclick = () => {
      const texto = input.value.trim();
      if (!texto) return;
      adicionarMensagem(texto, "user");

      // Verificação simples de coerência (pode ser melhorada com IA real)
      if (texto.length < 3 || texto.split(" ").length < 2) {
        mostrarDigitando(() => {
          adicionarMensagem("Não entendi, você pode reformular?", "bot");
        });
        return;
      }

      respostas.push(texto);
      input.value = "";

      passo++;
      if (passo < perguntas.length) {
        mostrarDigitando(() => {
          adicionarMensagem(perguntas[passo], "bot");
        });
      } else {
        mostrarDigitando(() => {
          adicionarMensagem("Caso queira mudar algo ou acrescentar, digite aqui.", "bot");
          adicionarMensagem("Aperte em Enviar seu projeto.", "bot");
        });
      }
    };

    enviar.onclick = () => {
      const finalMsg = respostas.map((r, i) => `${i + 1}. ${perguntas[i]} ${r}`).join("\n");
      const link = `https://api.whatsapp.com/send?phone=5524999241876&text=${encodeURIComponent(finalMsg)}`;
      window.open(link, "_blank");
    };
  </script>
</body>
</html>
